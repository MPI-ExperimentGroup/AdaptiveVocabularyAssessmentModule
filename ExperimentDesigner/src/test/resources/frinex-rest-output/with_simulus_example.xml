<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<experiment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="frinex.xsd" appNameDisplay="with_simulus_example" appNameInternal="with_simulus_example" backgroundColour="#FFFFFF" complementColour0="#EAC3A3" complementColour1="#9D7B5E" complementColour2="#C69E7C" complementColour3="#FFEDDE" complementColour4="#FFFDFB" defaultScale="1.0" isScalable="true" preserveLastState="true" primaryColour0="#628D8D" primaryColour1="#385E5E" primaryColour2="#4A7777" primaryColour3="#96ADAD" primaryColour4="#D5D8D8" rotatable="true" showMenuBar="true" textFontSize="17">
    <administration/>
    <metadata>
        <field controlledMessage="Voer minimaal drie letters." controlledRegex=".'{'3,'}'" postName="workerId" preventServerDuplicates="false" registrationField="Proefpersoon ID"/>
        <field controlledMessage="Voer een getal." controlledRegex="[0-9]+" postName="age" preventServerDuplicates="false" registrationField="Leeftijd"/>
        <field controlledMessage="." controlledRegex="|man|vrouw|anders" postName="gender" preventServerDuplicates="false" registrationField="Geslacht"/>
        <field controlledMessage="." controlledRegex="basisonderwijs|voortgezet onderwijs|MBO|HBO|universiteit|anders" postName="education" preventServerDuplicates="false" registrationField="Opleidingsniveau"/>
        <field controlledMessage="." controlledRegex=".*" postName="educationOther" preventServerDuplicates="false" registrationField="Opleidingsniveau (anders, namelijk)"/>
        <field controlledMessage="." controlledRegex=".*" postName="item" preventServerDuplicates="false" registrationField="item"/>
    </metadata>
    <presenter menuLabel="Terug" next="Informatie" type="metadata" self="Toestemming" title="Toestemming">
        <htmlText featureText="Toestemmingsverklaring voor deelname aan het onderzoek:&lt;br/&gt;&lt;br/&gt;Ik stem geheel vrijwillig in met deelname aan dit onderzoek."/>
        <targetButton featureText="Akkoord" target="Informatie"/>
    </presenter>
    <presenter back="Toestemming" menuLabel="Terug" type="text" self="Informatie" title="Informatie">
        <htmlText featureText="Beste deelnemer, &lt;br/&gt;Bedankt dat je mee wilt doen aan dit onderzoek! &lt;br/&gt;&lt;br/&gt;"/>
        <targetButton featureText="volgende [ spatiebalk ]" hotKey="SPACE" target="Gegevens"/>
    </presenter>
    <presenter back="Informatie" menuLabel="Terug" next="With_Stimuli_Screen" type="metadata" self="Gegevens" title="Gegevens">
        <metadataField fieldName="workerId"/>
        <metadataField fieldName="age"/>
        <metadataField fieldName="gender"/>
        <metadataField fieldName="education"/>
        <metadataField fieldName="educationOther"/>
        <saveMetadataButton featureText="Volgende" sendData="true" networkErrorMessage="Geen verbinding met de server. Controleer alstublieft uw internetverbinding en probeer het opnieuw.">
            <onError/>
            <onSuccess>
                <gotoNextPresenter/>
            </onSuccess>
        </saveMetadataButton>
    </presenter>
    <presenter menuLabel="Terug" type="text" self="First_Stimuli_Screen_Informatie" title="First Stimuli Screen Informatie">
        <htmlText featureText="Instructies 1: &lt;br/&gt;&lt;br/&gt;Druk op [Z] als de zin kompleet is, of op [.]."/>
        <targetButton featureText="volgende [ spatiebalk ]" hotKey="SPACE" target="First_Stimuli_Screen"/>
        <table>
            <row>
                <column>
                    <plainText featureText="column 1"/>
                </column>
                <column>
                    <plainText featureText="column 2"/>
                    <table>
                        <row>
                            <column>
                                <plainText featureText="column 1 in table 1"/>
                            </column>
                            <column>
                                <plainText featureText="column 2 in table 1"/>
                            </column>
                            <column>
                                <plainText featureText="column3 in table 1"/>
                            </column>
                        </row>
                    </table>
                </column>
                <column>
                    <plainText featureText="column3"/>
                </column>
            </row>
        </table>
    </presenter>
    <presenter menuLabel="With Stimuli Screen" next="First_Stimuli_Screen_Informatie" type="stimulus" self="With_Stimuli_Screen" title="With Stimuli Screen">
        <region regionId="regionId" styleName="styleName">
            <plainText featureText="plainText in region"/>
        </region>
        <actionButton featureText="regionStyleNone">
            <regionStyle regionId="regionId" styleName=""/>
        </actionButton>
        <actionButton featureText="hiddenRegionStyle">
            <regionStyle regionId="regionId" styleName="hiddenRegion"/>
        </actionButton>
        <actionButton featureText="regionReplace">
            <regionReplace regionId="regionId" styleName="styleName">
                <plainText featureText="plainText in regionReplace"/>
            </regionReplace>
        </actionButton>
        <actionButton featureText="regionClear">
            <regionClear regionId="regionId"/>
        </actionButton>
        <region regionId="regionTimerA">
            <plainText featureText="TimerA region"/>
        </region>
        <actionButton featureText="startTimerA">
            <region regionId="regionTimerA">
                <plainText featureText="TimerA startTimer"/>
            </region>
            <startTimer msToNext="30000" listenerId="timerA">
                <region regionId="regionTimerA">
                    <plainText featureText="TimerA Completed"/>
                </region>
            </startTimer>
        </actionButton>
        <actionButton featureText="compareTimerA">
            <compareTimer msToNext="10000" listenerId="timerA">
                <aboveThreshold>
                    <region regionId="regionTimerA">
                        <plainText featureText="TimerA aboveThreshold"/>
                    </region>
                </aboveThreshold>
                <withinThreshold>
                    <region regionId="regionTimerA">
                        <plainText featureText="TimerA withinThreshold"/>
                    </region>
                </withinThreshold>
            </compareTimer>
        </actionButton>
        <actionButton featureText="clearTimerA">
            <clearTimer listenerId="timerA"/>
            <region regionId="regionTimerA">
                <plainText featureText="TimerA clearTimer"/>
            </region>
        </actionButton>
        <actionButton featureText="htmlTokenText TimerA">
            <region regionId="regionTimerA">
                <htmlTokenText featureText="TimerA &lt;timerA&gt;ms"/>
            </region>
        </actionButton>
        <actionButton featureText="logTimerValueA">
            <logTimerValue listenerId="timerA" eventTag="timerAeventTag" dataChannel="3"/>
            <region regionId="regionTimerA">
                <plainText featureText="TimerA logTimerValue"/>
            </region>
        </actionButton>
        <withStimuli eventTag="With Stimuli Screen" randomise="true" repeatRandomWindow="0" maxStimuli="1000" repeatCount="1">
            <beforeStimulus>       
                <plainText featureText="plainText in beforeStimulus"/>         
            </beforeStimulus>
            <eachStimulus>
                <plainText featureText="plainText in eachStimulus"/>
                <stimulusPresent msToNext="0" maxHeight="80" percentOfPage="0" showControls="false" maxWidth="80">
                    <mediaLoaded>
                        <plainText featureText="plainText in mediaLoaded"/>
                    </mediaLoaded>
                    <mediaLoadFailed>
                        <plainText featureText="plainText in mediaLoadFailed"/>
                    </mediaLoadFailed>
                    <mediaPlaybackComplete>
                        <plainText featureText="plainText in mediaPlaybackComplete"/>
                        <addPadding/>
                        <ratingButton dataChannel="1" ratingLabelRight="" ratingLabels="zin compleet,zin onvolledig" ratingLabelLeft=""/>
                    </mediaPlaybackComplete>
                </stimulusPresent>
            </eachStimulus>
            <afterStimulus>  
                <region regionId="validateStimuliResponses"/>
                <actionButton featureText="validateStimuliResponses">
                    <validateStimuliResponses>
                        <conditionFalse>
                            <region regionId="validateStimuliResponses">
                                <plainText featureText="plainText in conditionFalse"/>
                            </region>  
                        </conditionFalse>
                        <conditionTrue>
                            <region regionId="validateStimuliResponses">
                                <plainText featureText="plainText in conditionTrue"/>
                            </region>
                        </conditionTrue>
                    </validateStimuliResponses>
                </actionButton>
                <plainText featureText="plainText in afterStimulus"/>         
                <targetButton featureText="Next Screen" target="First_Stimuli_Screen_Informatie"/>
            </afterStimulus>
            <randomGrouping/>
            <stimuli>
                <tag>First_Stimuli_Screen</tag>
            </stimuli>
        </withStimuli>
    </presenter>
    <presenter menuLabel="First Stimuli Screen" next="Second_Informatie" type="stimulus" self="First_Stimuli_Screen" title="First Stimuli Screen">
        <loadStimulus eventTag="First Stimuli Screen" randomise="true" repeatRandomWindow="0" maxStimuli="1000" repeatCount="1">
            <hasMoreStimulus>
                <!--todo: flesh out this score thrshold example/test-->
                <bestScoreAboveThreshold scoreThreshold="3" errorThreshold="3" correctStreak="2" errorStreak="1" potentialThreshold="3">
                    <aboveThreshold>
                        <plainText featureText="plainText in aboveThreshold"/>
                    </aboveThreshold>
                    <withinThreshold>
                        <plainText featureText="plainText in withinThreshold"/>
                    </withinThreshold>
                </bestScoreAboveThreshold>
                <totalScoreAboveThreshold scoreThreshold="3" errorThreshold="3" potentialThreshold="3">
                    <aboveThreshold>
                        <plainText featureText="plainText in aboveThreshold"/>
                    </aboveThreshold>
                    <withinThreshold>
                        <plainText featureText="plainText in withinThreshold"/>
                    </withinThreshold>
                </totalScoreAboveThreshold>
                <scoreAboveThreshold scoreThreshold="3" errorThreshold="3" correctStreak="2" errorStreak="1" potentialThreshold="3">
                    <aboveThreshold>
                        <plainText featureText="plainText in aboveThreshold"/>
                    </aboveThreshold>
                    <withinThreshold>
                        <plainText featureText="plainText in withinThreshold"/>
                    </withinThreshold>
                </scoreAboveThreshold>
                <stimulusPresent msToNext="0" maxHeight="80" percentOfPage="0" showControls="false" maxWidth="80">
                    <mediaLoaded/>
                    <mediaLoadFailed/>
                    <mediaPlaybackComplete>
                        <addPadding/>
                        <ratingButton dataChannel="1" ratingLabelRight="" ratingLabels="zin compleet,zin onvolledig" ratingLabelLeft=""/>
                    </mediaPlaybackComplete>
                </stimulusPresent>
                <targetButton featureText="Next Screen" target="Second_Informatie"/>
            </hasMoreStimulus>
            <endOfStimulus>
                <gotoNextPresenter/>
            </endOfStimulus>
            <randomGrouping storageField="item">
                <tag>cond_1</tag>
                <tag>cond_2</tag>
                <tag>cond_3</tag>
            </randomGrouping>
            <stimuli>
                <tag>First_Stimuli_Screen</tag>
            </stimuli>
        </loadStimulus>
    </presenter>
    <presenter menuLabel="Terug" type="text" self="Second_Informatie" title="Second Informatie">
        <htmlText featureText="Instructies Deel 2: &lt;br/&gt;&lt;br/&gt;Type het juiste antwoord in de textbox."/>
        <targetButton featureText="volgende [ spatiebalk ]" hotKey="SPACE" target="Second"/>
    </presenter>
    <presenter menuLabel="Second" next="Third_Informatie" type="stimulus" self="Second" title="Second">
        <loadStimulus eventTag="Second" randomise="true" repeatRandomWindow="0" maxStimuli="1000" repeatCount="1">
            <hasMoreStimulus>
                <stimulusLabel styleName="stimuliLabel"/>
                <addPadding/>
                <stimulusFreeText featureText="Vul minimal 1 nummer." allowedCharCodes="0123456789." styleName="stimuliLabel" validationRegex="[0-9]+[.]?[0-9]*" inputErrorMessage="Sorry, dit teken is niet toegestaan."/>
                <actionButton featureText="Volgende [tab + enter]">
                    <nextStimulus repeatIncorrect="false"/>
                </actionButton>
            </hasMoreStimulus>
            <endOfStimulus>
                <gotoNextPresenter/>
            </endOfStimulus>
            <randomGrouping storageField="item">
                <tag>second</tag>
            </randomGrouping>
            <stimuli>
                <tag>Second</tag>
            </stimuli>
        </loadStimulus>
    </presenter>
    <presenter menuLabel="Terug" type="text" self="Third_Informatie" title="Third Informatie">
        <htmlText featureText="Instructies Deel 3: &lt;br/&gt;&lt;br/&gt;"/>
        <targetButton featureText="volgende [ spatiebalk ]" hotKey="SPACE" target="Third"/>
    </presenter>
    <presenter menuLabel="Third" next="completion" type="stimulus" self="Third" title="Third">
        <loadStimulus eventTag="Third" randomise="true" repeatRandomWindow="0" maxStimuli="1000" repeatCount="1">
            <hasMoreStimulus>
                <stimulusLabel styleName="stimuliLabel"/>
                <addPadding/>
                <stimulusFreeText featureText="Vul minimal 1 letter." styleName="stimuliLabel" validationRegex=".{1,}" inputErrorMessage="Sorry, dit teken is niet toegestaan."/>
                <actionButton featureText="Volgende [tab + enter]">
                    <nextStimulus repeatIncorrect="false"/>
                </actionButton>
            </hasMoreStimulus>
            <endOfStimulus>
                <gotoNextPresenter/>
            </endOfStimulus>
            <randomGrouping storageField="item">
                <tag>thirdexample</tag>
            </randomGrouping>
            <stimuli>
                <tag>Third</tag>
            </stimuli>
        </loadStimulus>
    </presenter>
    <presenter menuLabel="Einde van het experiment" next="Toestemming" type="transmission" self="completion" title="Einde van het experiment">
        <generateCompletionCode>
            <onSuccess>
                <htmlText featureText="Dit is het einde van het experiment.&lt;br/&gt;Hartelijk dank voor jouw deelname! &lt;br/&gt;&lt;br/&gt;"/>
                <addPadding/>
                <displayCompletionCode/>
                <addPadding/>
                <htmlText featureText="&lt;br/&gt;Het bovenstaande nummer is het bewijs dat je het experiment heeft voltooid&lt;br/&gt;"/>
                <addPadding/>
                <eraseUsersDataButton featureText="Opnieuw beginnen" target="Toestemming"/>
            </onSuccess>
            <onError>
                <plainText featureText="Geen verbinding met de server. Controleer alstublieft uw internetverbinding en probeer het opnieuw."/>
                <targetButton featureText="Probeer opnieuw" target="completion"/>
            </onError>
        </generateCompletionCode>
    </presenter>
    <presenter back="Toestemming" menuLabel="Over" type="debug" self="about" title="Over">
        <versionData/>
    </presenter>
    <stimuli>
        <stimulus identifier="cond_1:Label for the stimuli" label="Label for the stimuli" pauseMs="0" tags="First_Stimuli_Screen cond_1"/>
        <stimulus identifier="cond_2:Label1 for stimuli in condition two" label="Label1 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label2 for stimuli in condition two" label="Label2 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label3 for stimuli in condition two" label="Label3 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label4 for stimuli in condition two" label="Label4 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label5 for stimuli in condition two" label="Label5 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label6 for stimuli in condition two" label="Label6 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label7 for stimuli in condition two" label="Label7 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_2:Label8 for stimuli in condition two" label="Label8 for stimuli in condition two" pauseMs="0" tags="First_Stimuli_Screen cond_2"/>
        <stimulus identifier="cond_3:Lable for stimuli in condition three" label="Lable for stimuli in condition three" pauseMs="0" tags="First_Stimuli_Screen cond_3"/>
        <stimulus identifier="second:14a" label="14a" pauseMs="0" tags="Second second"/>
        <stimulus identifier="second:14b" label="14b" pauseMs="0" tags="Second second"/>
        <stimulus identifier="second:14s" label="14s" pauseMs="0" tags="Second second"/>
        <stimulus identifier="second:14d" label="14d" pauseMs="0" tags="Second second"/>
        <stimulus identifier="thirdexample:aaa" label="aaa" pauseMs="0" tags="Third thirdexample"/>
        <stimulus identifier="thirdexample:ccc" label="ccc" pauseMs="0" tags="Third thirdexample"/>
        <stimulus identifier="thirdexample:ssss" label="ssss" pauseMs="0" tags="Third thirdexample"/>
    </stimuli>
</experiment>
